var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,i=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&a(e,n,t[n]);if(r)for(var n of r(t))s.call(t,n)&&a(e,n,t[n]);return e},c=(e,r)=>t(e,n(r)),l=("undefined"!=typeof require&&require,(e,t,n)=>(a(e,"symbol"!=typeof t?t+"":t,n),n));export function __vite_legacy_guard(){import("data:text/javascript,")}import{R as u,I as p,a as d,u as m,b as f,r as h,c as E,w as g,d as y,m as v,T as x,C as _,S as b,e as w,f as C,g as T,h as S,p as O,i as A,j as P,t as I,A as N,_ as H,k as L,l as M,L as k,v as j,B as z,P as R,n as U}from"./vendor.9cecd84c.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const G={root:{height:window.innerHeight-76+"px",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"36px"}};function D(){return u.createElement("div",{className:"rvt-loading",style:G.root},u.createElement(p,{type:"loading"}))}let F=null,$=!1;function q(){$||(F||(F=document.createElement("div"),document.body.appendChild(F)),$=!0,d.render(u.createElement(D,null),F))}function B(){F&&($=!1,d.unmountComponentAtNode(F))}window.addEventListener("popstate",(()=>{B()}));const K={PUSH:"forward",POP:"back"};var Y=g((function(e){const t=e.routes,n=e.location,r=e.history,o=E.exports.useMemo((()=>{const e=t.find((e=>v(n.pathname,e)));return(null==e?void 0:e.isTransition)?e.path:"notransition"}),[n.pathname]);return u.createElement(x,{className:"transition-group",childFactory:e=>u.cloneElement(e,{classNames:K[r.action]})},u.createElement(_,{timeout:500,key:o},u.createElement(b,{location:n},W(t))))}));function V(e){const t=E.exports.useMemo((()=>e.match.url),[]);return function({name:e,match:t}){const n=m(),r=f(),{refresh:o}=h.exports.useAliveController();E.exports.useEffect((()=>{"PUSH"===n.action&&t.url===e&&(o(e),console.log("我应该ger屁了"))}),[r.pathname])}({name:t,match:e.match}),u.createElement(h.exports.KeepAlive,{id:t,name:t},e.children)}function W(e){return e.map(((e,t)=>{const n=y;let r=e.render?e.render:t=>{const n=e.component;return u.createElement(E.exports.Suspense,{fallback:u.createElement(D,null)},u.createElement(n,i({},t)))};return e.isCache&&(r=function(e){return function(t){return u.createElement(V,i({},t),e(t))}}(r)),u.createElement(n,{key:t,path:e.path,exact:e.exact,strict:e.strict,render:t=>r(c(i({},t),{route:e}))})}))}class J extends E.exports.PureComponent{constructor(){super(...arguments),l(this,"state",{hasError:!1})}static getDerivedStateFromError(e){return{hasError:!0}}render(){const{hasError:e}=this.state;return u.createElement("div",{style:{height:"100%",width:"100%"}},e?u.createElement("div",null,"出错啦"):u.createElement(Y,i({},this.props.route)))}}const Q={},X=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/realword-front.github.io/${e}`)in Q)return;Q[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};class Z{static getModule(e,t){return"default"===t?e:e.then((e=>({default:e[t]})))}}const ee=class extends Z{get(e="default"){return ee._instance||(ee._instance=X((()=>import("./Article.0d4abc7c.js")),["assets/Article.0d4abc7c.js","assets/Article.d6e4bf39.css","assets/vendor.9cecd84c.js","assets/vendor.1faf5c99.css","assets/propTypes.c74a9567.js","assets/propTypes.e8544774.css"])),Z.getModule(ee._instance,e)}};let te=ee;l(te,"_instance",null);const ne=class extends Z{get(e="default"){return ne._instance||(ne._instance=X((()=>import("./User.40f156a6.js")),["assets/User.40f156a6.js","assets/User.3e78e781.css","assets/vendor.9cecd84c.js","assets/vendor.1faf5c99.css","assets/propTypes.c74a9567.js","assets/propTypes.e8544774.css"])),Z.getModule(ne._instance,e)}};let re=ne;l(re,"_instance",null);var oe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",THEME_CHANGE:"THEME_CHANGE",HISTORY_BACK_CLOSE_LOADING:"HISTORY_BACK_CLOSE_LOADING"});class se{constructor(){l(this,"events",{})}on(e,t){var n;(null==(n=this.events[e])?void 0:n.length)>0?this.events[e].push(t):this.events[e]=[t]}un(e,t){if(!this.events[e])return console.warn(`enentbus error,eventname:${e} is not in enents`);const n=this.events[e].findIndex((e=>e===t));if(n<0)return console.warn("enentbus error,un can`t find fn in events");this.events[e].splice(n,1)}emit(e,t){if(!this.events[e])return console.warn(`enentbus error,eventname:${e} is not in enents`);this.events[e].forEach((e=>e(t)))}}l(se,"TYPES",oe);var ae=new se;const ie="SET_THEME",ce="SET_UINFO",le="CLEAR_UINFO",ue={theme:"dark",appTab:"",hideTabbar:!1,hideHeader:!1,uinfo:{}};const pe=C(O({key:"root",storage:P},w({app:function(e=ue,t){switch(t.type){case"SET_THEME":return c(i({},e),{theme:t.data});case"SET_UINFO":return c(i({},e),{uinfo:t.data});case"CLEAR_UINFO":return c(i({},e),{uinfo:{}});default:return e}}})),T(S(I),window&&window.devToolsExtension?window.devToolsExtension():e=>e));let de=A(pe);const me=se.TYPES,fe={light:{bg:{pri:"#ffffff",sec:"#f5f5f5"},fc:{header:"#2f2f2f",text:"#565656",desc:"#9c9c9c",active:"#da7561"},transition:"300ms"},dark:{bg:{pri:"#3f3f3f",sec:"#363636"},fc:{header:"#aeaeae",text:"#b1b1b1",desc:"#868686",active:"#da7561"},transition:"300ms"}},he=function(e){ae.emit(me.THEME_CHANGE,e)};function Ee(){const[e,t]=E.exports.useState(pe.getState().app.theme);return E.exports.useEffect((()=>(ae.on(me.THEME_CHANGE,t),()=>ae.un(me.THEME_CHANGE,t))),[]),fe[e]}function ge(e){return function(){const t=Ee();return E.exports.useMemo((()=>e(t)),[t])}}const ye={home:"/f/home",user:"/f/user"};const ve=new te,xe=new re,_e=[{path:"/",component:J,routes:[{path:"/",exact:!0,render:()=>u.createElement(M,{to:"/f/home"})},{path:"/f",isCache:!0,isTransition:!0,component:function(e){const[t,n]=E.exports.useState("home"),r=Ee(),o=m();return E.exports.useEffect((()=>{o.replace(ye[t])}),[t]),u.createElement("div",{style:{position:"fixed",width:"100%",bottom:0,zIndex:3e3}},u.createElement("div",{className:"rvt-tabview"},W(e.route.routes)),u.createElement(N,{unselectedTintColor:r.fc.text,tintColor:r.fc.active,barTintColor:r.bg.pri,noRenderContent:!0},u.createElement(N.Item,{title:"首页",key:"home",icon:u.createElement(H,null),selectedIcon:u.createElement(H,null),selected:"home"===t,onPress:()=>n("home")}),u.createElement(N.Item,{icon:u.createElement(L,null),selectedIcon:u.createElement(L,null),title:"我的",key:"user",selected:"user"===t,onPress:()=>n("user")})))},routes:[{path:"/f/home",isCache:!0,component:E.exports.lazy((()=>ve.get()))},{path:"/f/user",isCache:!0,component:E.exports.lazy((()=>xe.get()))}]},{path:["/edit","/edit/:slug"],isCache:!0,isTransition:!0,component:E.exports.lazy((()=>ve.get("Edit")))},{path:"/posts/:slug",isCache:!0,isTransition:!0,component:E.exports.lazy((()=>ve.get("Posts")))},{path:"/test",component:function(){return u.createElement("div",null,u.createElement(k,{to:"/f/home"},"Article"),"/",u.createElement(k,{to:"/f/user"},"User"))}},{path:"/realworld-login",isCache:!0,isTransition:!0,component:E.exports.lazy((()=>xe.get("RealWorldLogin")))},{path:"/register",isCache:!0,isTransition:!0,component:E.exports.lazy((()=>xe.get("Register")))},{path:"/login",isCache:!0,isTransition:!0,component:E.exports.lazy((()=>xe.get("Login")))},{path:"/profile/:username",isCache:!0,isTransition:!0,component:E.exports.lazy((()=>ve.get("Profile")))},{path:"/myArticles/:type",isCache:!0,isTransition:!0,component:E.exports.lazy((()=>ve.get("MyArticles")))},{path:"/account/:username",isCache:!0,isTransition:!0,component:E.exports.lazy((()=>xe.get("Account")))}]}];const be="/realword-front.github.io";j();const we={app:{height:window.innerHeight+"px"}};function Ce(){return E.exports.useEffect((()=>{!function(){const e=pe.getState().app.theme;he(e),document.body.className="rvt-body-"+e}()}),[]),u.createElement("div",{className:"rvt-app",style:we.app},u.createElement(z,{basename:be},W(_e)))}d.render(u.createElement(R,{store:pe},u.createElement(U,{loading:null,persistor:de},u.createElement(h.exports.AliveScope,null,u.createElement(Ce,null)))),document.getElementById("root"));export{le as C,ce as S,ie as a,B as c,ge as m,q as o,pe as s,he as t};
